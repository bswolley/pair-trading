{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorian/Documents/pair-trading/frontend/src/app/api/blacklist/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nconst CONFIG_PATH = path.join(process.cwd(), \"..\", \"config\");\nconst BLACKLIST_PATH = path.join(CONFIG_PATH, \"blacklist.json\");\n\n// GET /api/blacklist - Get blacklist\nexport async function GET() {\n  try {\n    if (!fs.existsSync(BLACKLIST_PATH)) {\n      return NextResponse.json({ assets: [] });\n    }\n\n    const blacklist = JSON.parse(fs.readFileSync(BLACKLIST_PATH, \"utf-8\"));\n    return NextResponse.json(blacklist);\n  } catch (error) {\n    console.error(\"Error reading blacklist:\", error);\n    return NextResponse.json({ error: \"Failed to read blacklist\" }, { status: 500 });\n  }\n}\n\n// POST /api/blacklist - Add asset to blacklist\nexport async function POST(request: Request) {\n  try {\n    const { asset } = await request.json();\n    \n    let blacklist = { description: \"Assets to exclude from pair scanning and trading\", assets: [] as string[] };\n    if (fs.existsSync(BLACKLIST_PATH)) {\n      blacklist = JSON.parse(fs.readFileSync(BLACKLIST_PATH, \"utf-8\"));\n    }\n\n    if (!blacklist.assets.includes(asset)) {\n      blacklist.assets.push(asset);\n      fs.writeFileSync(BLACKLIST_PATH, JSON.stringify(blacklist, null, 2));\n    }\n\n    return NextResponse.json({ success: true, assets: blacklist.assets });\n  } catch (error) {\n    console.error(\"Error adding to blacklist:\", error);\n    return NextResponse.json({ error: \"Failed to add to blacklist\" }, { status: 500 });\n  }\n}\n\n// DELETE /api/blacklist - Remove asset from blacklist\nexport async function DELETE(request: Request) {\n  try {\n    const { asset } = await request.json();\n    \n    if (!fs.existsSync(BLACKLIST_PATH)) {\n      return NextResponse.json({ success: true, assets: [] });\n    }\n\n    const blacklist = JSON.parse(fs.readFileSync(BLACKLIST_PATH, \"utf-8\"));\n    blacklist.assets = blacklist.assets.filter((a: string) => a !== asset);\n    fs.writeFileSync(BLACKLIST_PATH, JSON.stringify(blacklist, null, 2));\n\n    return NextResponse.json({ success: true, assets: blacklist.assets });\n  } catch (error) {\n    console.error(\"Error removing from blacklist:\", error);\n    return NextResponse.json({ error: \"Failed to remove from blacklist\" }, { status: 500 });\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM;AACnD,MAAM,iBAAiB,4GAAI,CAAC,IAAI,CAAC,aAAa;AAGvC,eAAe;IACpB,IAAI;QACF,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,iBAAiB;YAClC,OAAO,4LAAY,CAAC,IAAI,CAAC;gBAAE,QAAQ,EAAE;YAAC;QACxC;QAEA,MAAM,YAAY,KAAK,KAAK,CAAC,wGAAE,CAAC,YAAY,CAAC,gBAAgB;QAC7D,OAAO,4LAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAChF;AACF;AAGO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpC,IAAI,YAAY;YAAE,aAAa;YAAoD,QAAQ,EAAE;QAAa;QAC1G,IAAI,wGAAE,CAAC,UAAU,CAAC,iBAAiB;YACjC,YAAY,KAAK,KAAK,CAAC,wGAAE,CAAC,YAAY,CAAC,gBAAgB;QACzD;QAEA,IAAI,CAAC,UAAU,MAAM,CAAC,QAAQ,CAAC,QAAQ;YACrC,UAAU,MAAM,CAAC,IAAI,CAAC;YACtB,wGAAE,CAAC,aAAa,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;QACnE;QAEA,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,QAAQ,UAAU,MAAM;QAAC;IACrE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA6B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACF;AAGO,eAAe,OAAO,OAAgB;IAC3C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpC,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,iBAAiB;YAClC,OAAO,4LAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAM,QAAQ,EAAE;YAAC;QACvD;QAEA,MAAM,YAAY,KAAK,KAAK,CAAC,wGAAE,CAAC,YAAY,CAAC,gBAAgB;QAC7D,UAAU,MAAM,GAAG,UAAU,MAAM,CAAC,MAAM,CAAC,CAAC,IAAc,MAAM;QAChE,wGAAE,CAAC,aAAa,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;QAEjE,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,QAAQ,UAAU,MAAM;QAAC;IACrE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAkC,GAAG;YAAE,QAAQ;QAAI;IACvF;AACF"}}]
}